(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[930],{67:function(){},2061:function(){},8927:function(e,t,s){Promise.resolve().then(s.bind(s,3666))},12:function(e,t,s){var a,n,i;n=[],void 0!==(i="function"==typeof(a=function(){"use strict";function t(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){o(a.response,t,s)},a.onerror=function(){console.error("could not download file")},a.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof s.g&&s.g.global===s.g?s.g:void 0,r=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,s,r){var o=i.URL||i.webkitURL,l=document.createElement("a");s=s||e.name||"download",l.download=s,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?n(l):a(l.href)?t(e,s,r):n(l,l.target="_blank")):(l.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(l.href)},4e4),setTimeout(function(){n(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,s,i){if(s=s||e.name||"download","string"!=typeof e){var r;navigator.msSaveOrOpenBlob((void 0===(r=i)?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),s)}else if(a(e))t(e,s,i);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){n(o)})}}:function(e,s,a,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return t(e,s,a);var o="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},d.readAsDataURL(e)}else{var u=i.URL||i.webkitURL,f=u.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});i.saveAs=o.saveAs=o,e.exports=o})?a.apply(t,n):a)&&(e.exports=i)},1649:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("file-spreadsheet",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]])},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8390:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(7437),n=s(2381);function i(e){let{page:t,totalPages:s,onPrev:i,onNext:r}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,a.jsx)(n.z,{disabled:1===t,onClick:i,children:"Previous"}),(0,a.jsxs)("p",{className:"text-gray-600 font-medium",children:["Page ",t," / ",s]}),(0,a.jsx)(n.z,{disabled:t===s,onClick:r,children:"Next"})]})}},6488:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(7437),n=s(3247),i=s(279);function r(e){let{value:t,onChange:s,placeholder:r}=e;return(0,a.jsxs)("div",{className:"relative max-w-xs",children:[(0,a.jsx)(n.Z,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,a.jsx)(i.I,{className:"pl-10",placeholder:r,value:t,onChange:e=>s(e.target.value)})]})}},9403:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(7437),n=s(9140);function i(e){let{rows:t=5}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(n.O,{className:"h-10 w-64"}),(0,a.jsx)(n.O,{className:"h-10 w-28"})]}),(0,a.jsx)("div",{className:"border rounded-lg p-4 space-y-4 bg-white shadow-sm",children:[...Array(t)].map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-3 border-b",children:[(0,a.jsx)(n.O,{className:"h-6 w-40"}),(0,a.jsx)(n.O,{className:"h-6 w-20"}),(0,a.jsx)(n.O,{className:"h-8 w-32 justify-self-end"})]},t))})]})}},3666:function(e,t,s){"use strict";s.d(t,{default:function(){return g}});var a=s(7437),n=s(2265),i=s(9820),r=s(279),o=s(2381),l=s(3340),c=s(6890),d=s(7690),u=s(5246),f=s(9403),p=s(6488),h=s(8390),m=s(7460),x=s(1837),y=s(1649),v=s(9397),j=s(3247);function g(){let{toast:e}=(0,l.pm)(),{cities:t,loading:s,reload:g}=(0,c.M)(),[b,w]=(0,n.useState)(""),[N,S]=(0,n.useState)(1),A=(0,n.useMemo)(()=>t.filter(e=>e.name.toLowerCase().includes(b.toLowerCase())),[t,b]),k=A.slice((N-1)*8,8*N),E=Math.ceil(A.length/8),[T,O]=(0,n.useState)(!1),[C,M]=(0,n.useState)(""),[_,Z]=(0,n.useState)(""),[z,R]=(0,n.useState)(""),[D,I]=(0,n.useState)(!1),[L,U]=(0,n.useState)(""),[P,B]=(0,n.useState)("");function F(){M(""),Z(""),R("")}async function H(e){e.preventDefault(),U(""),B(""),x.h.addCity({name:C,stateId:_}).then(()=>{B("City added successfully!"),g(),O(!1),F()}).catch(e=>{U(e.message||"Failed to add city")})}return(0,n.useEffect)(()=>{if(L||P){let e=setTimeout(()=>{U(""),B("")},3e3);return()=>clearTimeout(e)}},[L,P]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(i.Zb,{className:"w-full shadow-md border rounded-xl",children:[(0,a.jsx)(i.Ol,{className:"flex justify-between items-center",children:(0,a.jsx)(i.ll,{className:"text-2xl",children:"City Management"})}),(0,a.jsxs)(i.aY,{children:[L&&(0,a.jsx)(u.Z,{type:"error",message:L}),P&&(0,a.jsx)(u.Z,{type:"success",message:P}),!T&&(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)(p.Z,{value:b,onChange:w,placeholder:"Search city..."}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(o.z,{onClick:()=>(0,d.p)(t,"Cities"),className:"bg-black hover:bg-gray-800 flex items-center gap-2",children:[(0,a.jsx)(y.Z,{size:18}),"Export Excel"]}),(0,a.jsxs)(o.z,{onClick:()=>O(!0),className:"bg-blue-600 text-white flex items-center gap-2",children:[(0,a.jsx)(v.Z,{size:18}),"Add City"]})]})]}),T&&(0,a.jsxs)("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg border",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add City"}),(0,a.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"City Name"}),(0,a.jsx)(r.I,{value:C,onChange:e=>M(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Select State"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(r.I,{value:z,readOnly:!0,className:"cursor-pointer pr-10",placeholder:"Select State",onClick:()=>I(!0)}),(0,a.jsx)(j.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 cursor-pointer hover:text-gray-800",size:18,onClick:()=>I(!0)})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)(o.z,{variant:"outline",onClick:()=>{F(),O(!1)},children:"Cancel"}),(0,a.jsx)(o.z,{type:"submit",className:"bg-blue-600 text-white",children:"Save City"})]})]})]}),!T&&(s?(0,a.jsx)(f.Z,{rows:5}):(0,a.jsx)("div",{className:"overflow-x-auto rounded-xl border shadow-sm bg-white",children:(0,a.jsxs)("table",{className:"min-w-[800px] w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"City"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),(0,a.jsxs)("tbody",{children:[0===k.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:3,className:"py-6 text-center text-gray-500 italic",children:"No cities found"})}),k.map(e=>(0,a.jsxs)("tr",{className:"border-t hover:bg-gray-50 transition",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:e.name}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.isActive?(0,a.jsx)("span",{className:"px-3 py-1 text-xs rounded-full bg-green-100 text-green-700",children:"Active"}):(0,a.jsx)("span",{className:"px-3 py-1 text-xs rounded-full bg-red-100 text-red-700",children:"Inactive"})}),(0,a.jsxs)("td",{className:"px-4 py-3 text-right space-x-2",children:[(0,a.jsx)(o.z,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700",children:"Edit"}),(0,a.jsx)(o.z,{size:"sm",variant:e.isActive?"destructive":"default",className:e.isActive?"":"bg-green-600 hover:bg-green-700",children:e.isActive?"Deactivate":"Activate"})]})]},e.id))]})]})}))]}),!T&&(0,a.jsx)(h.Z,{page:N,totalPages:E,onPrev:()=>S(N-1),onNext:()=>S(N+1)})]}),(0,a.jsx)(m.Z,{open:D,onClose:()=>I(!1),title:"Select State",fetchData:x.h.GetAllState,searchKey:"name",labelKey:"name",valueKey:"id",onSelect:e=>{Z(e.id),R(e.id)}})]})}},9140:function(e,t,s){"use strict";s.d(t,{O:function(){return i}});var a=s(7437),n=s(3448);function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},6890:function(e,t,s){"use strict";s.d(t,{M:function(){return i}});var a=s(2265),n=s(1837);function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0);function r(){i(!0),n.h.GetAllCity().then(e=>t(e.data||[])).finally(()=>i(!1))}return(0,a.useEffect)(r,[]),{cities:e,loading:s,reload:r}}},3340:function(e,t,s){"use strict";s.d(t,{pm:function(){return f}});var a=s(2265);let n=0,i=new Map,r=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?r(s):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,t]=a.useState(c);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},7690:function(e,t,s){"use strict";s.d(t,{p:function(){return i}});var a=s(2093),n=s(12);function i(e,t){let s=a.P6.json_to_sheet(e),i=a.P6.book_new();a.P6.book_append_sheet(i,s,"Sheet1");let r=new Blob([a.cW(i,{bookType:"xlsx",type:"array"})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,n.saveAs)(r,"".concat(t,".xlsx"))}}},function(e){e.O(0,[425,203,112,971,117,744],function(){return e(e.s=8927)}),_N_E=e.O()}]);
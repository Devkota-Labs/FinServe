(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{67:function(){},2061:function(){},703:function(e,t,s){Promise.resolve().then(s.bind(s,7756))},5246:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=s(7437),n=s(9388),a=s(1671),i=s(6865),o=s(3245);function d(e){var t;let{type:s,message:d}=e,l={error:{bg:"bg-red-50",border:"border-red-300",text:"text-red-700",icon:(0,r.jsx)(n.Z,{className:"w-5 h-5 text-red-600 shrink-0"})},success:{bg:"bg-green-50",border:"border-green-300",text:"text-green-700",icon:(0,r.jsx)(a.Z,{className:"w-5 h-5 text-green-600 shrink-0"})},warning:{bg:"bg-yellow-50",border:"border-yellow-300",text:"text-yellow-700",icon:(0,r.jsx)(i.Z,{className:"w-5 h-5 text-yellow-600 shrink-0"})},info:{bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-700",icon:(0,r.jsx)(o.Z,{className:"w-5 h-5 text-blue-600 shrink-0"})}},c=null!==(t=l[s])&&void 0!==t?t:l.error;return(0,r.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-md border ".concat(c.bg," ").concat(c.border),children:[c.icon,(0,r.jsx)("p",{className:"text-sm font-medium whitespace-pre-line ".concat(c.text),children:d})]})}},8390:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7437),n=s(2381);function a(e){let{page:t,totalPages:s,onPrev:a,onNext:i}=e;return(0,r.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,r.jsx)(n.z,{disabled:1===t,onClick:a,children:"Previous"}),(0,r.jsxs)("p",{className:"text-gray-600 font-medium",children:["Page ",t," / ",s]}),(0,r.jsx)(n.z,{disabled:t===s,onClick:i,children:"Next"})]})}},6488:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(7437),n=s(3247),a=s(279);function i(e){let{value:t,onChange:s,placeholder:i}=e;return(0,r.jsxs)("div",{className:"relative max-w-xs",children:[(0,r.jsx)(n.Z,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,r.jsx)(a.I,{className:"pl-10",placeholder:i,value:t,onChange:e=>s(e.target.value)})]})}},9403:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7437),n=s(9140);function a(e){let{rows:t=5}=e;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(n.O,{className:"h-10 w-64"}),(0,r.jsx)(n.O,{className:"h-10 w-28"})]}),(0,r.jsx)("div",{className:"border rounded-lg p-4 space-y-4 bg-white shadow-sm",children:[...Array(t)].map((e,t)=>(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-3 border-b",children:[(0,r.jsx)(n.O,{className:"h-6 w-40"}),(0,r.jsx)(n.O,{className:"h-6 w-20"}),(0,r.jsx)(n.O,{className:"h-8 w-32 justify-self-end"})]},t))})]})}},7756:function(e,t,s){"use strict";s.d(t,{default:function(){return j}});var r=s(7437),n=s(2265),a=s(9820),i=s(279),o=s(3448);let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("textarea",{className:(0,o.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});d.displayName="Textarea";var l=s(7165),c=s(401);let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(l.fC,{ref:t,className:(0,o.cn)("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...n,children:(0,r.jsx)(l.z$,{className:(0,o.cn)("grid place-content-center text-current"),children:(0,r.jsx)(c.Z,{className:"h-4 w-4"})})})});u.displayName=l.fC.displayName;var m=s(2381),f=s(9140),h=s(1837),x=s(5246),g=s(7690),v=s(6488),p=s(8390),b=s(9403),y=s(9397);function j(){let[e,t]=(0,n.useState)(""),[s,o]=(0,n.useState)(""),[l,c]=(0,n.useState)(!0),[j,N]=(0,n.useState)(!1),[w,S]=(0,n.useState)(""),[C,O]=(0,n.useState)(!0),[A,T]=(0,n.useState)(!1),[k,E]=(0,n.useState)(""),[R,G]=(0,n.useState)(""),[P,z]=(0,n.useState)(""),[Z,_]=(0,n.useState)(1),[M,J]=(0,n.useState)([]);async function D(){O(!0);let e=await h.h.getRoles();J((null==e?void 0:e.data)||[]),O(!1)}async function I(t){t.preventDefault(),E(""),G("");try{j?E("Role updated successfully!"):(await h.h.addRoles({name:e,description:s,isActive:l}),E("Role added successfully!")),D(),U(),T(!1)}catch(e){G(e.message||"Something went wrong")}}function U(){t(""),o(""),c(!0),N(!1),S("")}(0,n.useEffect)(()=>{D()},[]),(0,n.useEffect)(()=>{if(k||R){let e=setTimeout(()=>{E(""),G("")},2500);return()=>clearTimeout(e)}},[k,R]);let L=M.filter(e=>e.name.toLowerCase().includes(P.toLowerCase())||e.description.toLowerCase().includes(P.toLowerCase())),B=L.slice((Z-1)*8,8*Z),V=Math.ceil(L.length/8);return(0,r.jsx)("div",{children:(0,r.jsxs)(a.Zb,{className:"w-full shadow-md border rounded-xl",children:[(0,r.jsx)(a.Ol,{className:"flex justify-between items-center",children:(0,r.jsx)(a.ll,{className:"text-2xl",children:"Roles Management"})}),(0,r.jsxs)(a.aY,{children:[R&&(0,r.jsx)(x.Z,{type:"error",message:R}),k&&(0,r.jsx)(x.Z,{type:"success",message:k}),!A&&!C&&(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)(v.Z,{value:P,onChange:z,placeholder:"Search country..."}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(m.z,{className:"bg-black hover:bg-gray-800",onClick:()=>(0,g.p)(M,"Roles Details"),children:"Export Excel"}),(0,r.jsxs)(m.z,{onClick:()=>{U(),T(!0)},className:"bg-blue-600 flex items-center gap-2",children:[(0,r.jsx)(y.Z,{size:18})," Add Role"]})]})]}),!A&&C&&(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)(f.O,{className:"h-10 w-64"}),(0,r.jsx)(f.O,{className:"h-10 w-28"})]}),A&&!C&&(0,r.jsxs)("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg border",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:j?"Edit Role":"Create Role"}),(0,r.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Role Name"}),(0,r.jsx)(i.I,{value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Role Description"}),(0,r.jsx)(d,{value:s,onChange:e=>o(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u,{checked:l,onCheckedChange:e=>c(!!e)}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Is Active"})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,r.jsx)(m.z,{variant:"outline",onClick:()=>{U(),T(!1)},children:"Cancel"}),(0,r.jsx)(m.z,{type:"submit",className:"bg-blue-600 text-white",children:j?"Update Role":"Save Role"})]})]})]}),!A&&(C?(0,r.jsx)(b.Z,{rows:5}):(0,r.jsx)("div",{className:"rounded-xl border overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-100",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"p-3 text-left",children:"Role"}),(0,r.jsx)("th",{className:"p-3 text-left",children:"Description"}),(0,r.jsx)("th",{className:"p-3 text-left",children:"Status"}),(0,r.jsx)("th",{className:"p-3 text-right",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:B.map(e=>(0,r.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"p-3",children:e.name}),(0,r.jsx)("td",{className:"p-3",children:e.description}),(0,r.jsx)("td",{className:"p-3",children:e.isActive?(0,r.jsx)("span",{className:"text-green-700 font-medium",children:"Active"}):(0,r.jsx)("span",{className:"text-red-700 font-medium",children:"Inactive"})}),(0,r.jsxs)("td",{className:"p-3 text-right space-x-2",children:[(0,r.jsx)(m.z,{size:"sm",variant:"secondary",onClick:()=>{t(e.name),o(e.description),c(e.isActive),S(e.id),N(!0),T(!0)},children:"Edit"}),(0,r.jsx)(m.z,{size:"sm",variant:e.isActive?"destructive":"default",onClick:()=>{D()},children:e.isActive?"Deactivate":"Activate"})]})]},e.id))})]})}))]}),!A&&(0,r.jsx)(p.Z,{page:Z,totalPages:V,onPrev:()=>_(Z-1),onNext:()=>_(Z+1)})]})})}},2381:function(e,t,s){"use strict";s.d(t,{d:function(){return d},z:function(){return l}});var r=s(7437),n=s(2265),a=s(7053),i=s(535),o=s(3448);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:l=!1,...c}=e,u=l?a.g7:"button";return(0,r.jsx)(u,{className:(0,o.cn)(d({variant:n,size:i,className:s})),ref:t,...c})});l.displayName="Button"},9820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return o},Zb:function(){return i},aY:function(){return l},ll:function(){return d}});var r=s(7437),n=s(2265),a=s(3448);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});o.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",s),...n})});d.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})}).displayName="CardDescription";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});l.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},279:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(7437),n=s(2265),a=s(3448);let i=n.forwardRef((e,t)=>{let{className:s,type:n,...i}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});i.displayName="Input"},9140:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});var r=s(7437),n=s(3448);function a(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},1837:function(e,t,s){"use strict";s.d(t,{h:function(){return o}});var r=s(8123),n=s(3448);async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,r.hP)(),a={...(0,n.k)(t.headers||{})};return a["Content-Type"]="application/json",s&&(a.Authorization="Bearer ".concat(s)),await fetch("".concat("http://54.81.12.127:5005/api").concat(e),{...t,headers:a,credentials:"include"})}async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=await a(e,t),r=await s.json();if(console.log(r),!0!==r.success){var n;if("/v1/Auth/login"===e&&(!r.data.user.emailVerified||!r.data.user.mobileVerified))return r;throw Error(null!==(n=r.message)&&void 0!==n?n:"Something went wrong.")}return r}let o={login:e=>i("/v1/Auth/login",{method:"POST",body:JSON.stringify(e)}),me:()=>i("/User/profile",{method:"GET"}),logout:()=>i("/v1/Auth/logout",{method:"POST"}),refresh:()=>i("/v1/Auth/refresh",{method:"POST"}),forgotPassword:e=>i("/v1/Auth/forgot-password",{method:"POST",body:JSON.stringify(e)}),register:e=>i("/v1/Auth/register",{method:"POST",body:JSON.stringify(e)}),emailVerification:e=>i("/v1/Auth/send-verification-email/".concat(e),{method:"POST"}),mobileVerification:e=>i("/v1/Auth/register",{method:"POST",body:JSON.stringify(e)}),getRoles:()=>i("/v1/Roles",{method:"GET"}),getModules:()=>i("/v1/User/modules",{method:"GET"}),getMenu:()=>i("/v1/Getmenu",{method:"GET"}),getLastModuleOrder:()=>i("/Admin/GetModulorder",{method:"GET"}),addModule:e=>i("/Admin/Addmodules",{method:"POST",body:JSON.stringify(e)}),getLastActivityOrder:()=>i("/Admin/GetActivityOrder",{method:"GET"}),addActivity:e=>i("/Admin/AddActivities",{method:"POST",body:JSON.stringify(e)}),getPendingUsers:()=>i("/Admin/pending-users",{method:"GET"}),getAllUsers:()=>i("/v1/Users",{method:"GET"}),GetCountry:()=>i("/v1/Countries",{method:"GET"}),GetStateByContryID:e=>i("/v1/States/country/".concat(e),{method:"GET"}),GetAllState:()=>i("/v1/States",{method:"GET"}),GetCityByStateID:e=>i("/v1/Cities/state/".concat(e),{method:"GET"}),GetAllCity:()=>i("/v1/Cities",{method:"GET"}),GetGender:()=>i("/Master/genders",{method:"GET"}),addCountrys:e=>i("/v1/Countries",{method:"POST",body:JSON.stringify(e)}),addStates:e=>i("/v1/States",{method:"POST",body:JSON.stringify(e)}),addCity:e=>i("/v1/Cities",{method:"POST",body:JSON.stringify(e)}),addRoles:e=>i("/v1/Roles",{method:"POST",body:JSON.stringify(e)}),getMenus:()=>i("/v1/Menus",{method:"GET"}),getProfile:()=>i("/v1/User/profile",{method:"GET"})}},8123:function(e,t,s){"use strict";s.d(t,{$9:function(){return i},M8:function(){return n},hP:function(){return a}});let r=null;function n(e){r=e}function a(){return r}function i(){r=null}},7690:function(e,t,s){"use strict";s.d(t,{p:function(){return a}});var r=s(2093),n=s(12);function a(e,t){let s=r.P6.json_to_sheet(e),a=r.P6.book_new();r.P6.book_append_sheet(a,s,"Sheet1");let i=new Blob([r.cW(a,{bookType:"xlsx",type:"array"})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,n.saveAs)(i,"".concat(t,".xlsx"))}},3448:function(e,t,s){"use strict";s.d(t,{cn:function(){return a},k:function(){return i}});var r=s(1994),n=s(3335);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return e instanceof Headers?e.forEach((e,s)=>t[s]=e):Array.isArray(e)?e.forEach(e=>{let[s,r]=e;return t[s]=r}):"object"==typeof e&&null!==e&&Object.assign(t,e),t}}},function(e){e.O(0,[425,203,914,971,117,744],function(){return e(e.s=703)}),_N_E=e.O()}]);
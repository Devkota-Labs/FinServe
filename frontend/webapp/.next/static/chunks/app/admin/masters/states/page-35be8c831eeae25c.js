(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[359],{67:function(){},2061:function(){},2928:function(e,t,s){Promise.resolve().then(s.bind(s,7524))},12:function(e,t,s){var a,n,l;n=[],void 0!==(l="function"==typeof(a=function(){"use strict";function t(e,t,s){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){i(a.response,t,s)},a.onerror=function(){console.error("could not download file")},a.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof s.g&&s.g.global===s.g?s.g:void 0,r=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,s,r){var i=l.URL||l.webkitURL,c=document.createElement("a");s=s||e.name||"download",c.download=s,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?n(c):a(c.href)?t(e,s,r):n(c,c.target="_blank")):(c.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(c.href)},4e4),setTimeout(function(){n(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,s,l){if(s=s||e.name||"download","string"!=typeof e){var r;navigator.msSaveOrOpenBlob((void 0===(r=l)?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),s)}else if(a(e))t(e,s,l);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){n(i)})}}:function(e,s,a,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return t(e,s,a);var i="application/octet-stream"===e.type,c=/constructor/i.test(l.HTMLElement)||l.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&c||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},d.readAsDataURL(e)}else{var u=l.URL||l.webkitURL,m=u.createObjectURL(e);n?n.location=m:location.href=m,n=null,setTimeout(function(){u.revokeObjectURL(m)},4e4)}});l.saveAs=i.saveAs=i,e.exports=i})?a.apply(t,n):a)&&(e.exports=l)},6241:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(7437);function n(e){let{title:t,children:s}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:t}),(0,a.jsx)("div",{className:"flex gap-3",children:s})]})}},8390:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(7437),n=s(2381);function l(e){let{page:t,totalPages:s,onPrev:l,onNext:r}=e;return(0,a.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,a.jsx)(n.z,{disabled:1===t,onClick:l,children:"Previous"}),(0,a.jsxs)("p",{className:"text-gray-600 font-medium",children:["Page ",t," / ",s]}),(0,a.jsx)(n.z,{disabled:t===s,onClick:r,children:"Next"})]})}},6488:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(7437),n=s(3247),l=s(279);function r(e){let{value:t,onChange:s,placeholder:r}=e;return(0,a.jsxs)("div",{className:"relative max-w-xs",children:[(0,a.jsx)(n.Z,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,a.jsx)(l.I,{className:"pl-10",placeholder:r,value:t,onChange:e=>s(e.target.value)})]})}},9403:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(7437),n=s(9140);function l(e){let{rows:t=5}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(n.O,{className:"h-10 w-64"}),(0,a.jsx)(n.O,{className:"h-10 w-28"})]}),(0,a.jsx)("div",{className:"border rounded-lg p-4 space-y-4 bg-white shadow-sm",children:[...Array(t)].map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-3 border-b",children:[(0,a.jsx)(n.O,{className:"h-6 w-40"}),(0,a.jsx)(n.O,{className:"h-6 w-20"}),(0,a.jsx)(n.O,{className:"h-8 w-32 justify-self-end"})]},t))})]})}},7524:function(e,t,s){"use strict";s.d(t,{default:function(){return v}});var a=s(7437),n=s(2265),l=s(9820),r=s(279),i=s(2381),c=s(3247),o=s(1837),d=s(5246),u=s(7690),m=s(6488),x=s(8390),f=s(9403),h=s(6241),p=s(7460);function v(){let{states:e,loading:t,reload:s}=function(){let[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0);function l(){a(!0),o.h.GetAllState().then(e=>t(e.data||[])).finally(()=>a(!1))}return(0,n.useEffect)(l,[]),{states:e,loading:s,reload:l}}(),[v,j]=(0,n.useState)(!1),[b,g]=(0,n.useState)(""),[y,w]=(0,n.useState)(1),[N,S]=(0,n.useState)(""),[k,A]=(0,n.useState)(""),[C,E]=(0,n.useState)(""),[O,L]=(0,n.useState)(""),[Z,_]=(0,n.useState)(""),[R,z]=(0,n.useState)(""),[T,M]=(0,n.useState)(!1);function U(){S(""),A(""),E(""),L("")}async function P(e){e.preventDefault(),z(""),_("");try{let e=await o.h.addStates({name:N,stateCode:k,countryId:C});(null==e?void 0:e.success)===!0?(_("State added successfully!"),s(),U(),j(!1)):z(e.message||"Failed to add state.")}catch(e){z(e.message||"Failed to add state!")}}(0,n.useEffect)(()=>{if(R||Z){let e=setTimeout(()=>{z(""),_("")},2500);return()=>clearTimeout(e)}},[R,Z]);let B=(0,n.useMemo)(()=>e.filter(e=>e.name.toLowerCase().includes(b.toLowerCase())),[e,b]),D=B.slice((y-1)*8,8*y),F=Math.ceil(B.length/8);return(0,a.jsxs)("div",{children:[(0,a.jsxs)(l.Zb,{className:"w-full shadow-md border rounded-xl",children:[(0,a.jsx)(l.Ol,{className:"flex justify-between items-center",children:(0,a.jsx)(h.Z,{title:"State Management"})}),(0,a.jsxs)(l.aY,{children:[R&&(0,a.jsx)(d.Z,{type:"error",message:R}),Z&&(0,a.jsx)(d.Z,{type:"success",message:Z}),!v&&!t&&(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)(m.Z,{value:b,onChange:g,placeholder:"Search state..."}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(i.z,{className:"bg-black hover:bg-gray-800",onClick:()=>(0,u.p)(e,"State Details"),children:"Export Excel"}),(0,a.jsx)(i.z,{className:"bg-blue-600",onClick:()=>j(!0),children:"+ Add State"})]})]}),v&&(0,a.jsxs)("div",{className:"mb-8 bg-gray-50 p-6 rounded-lg border",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Add State"}),(0,a.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"State Name"}),(0,a.jsx)(r.I,{value:N,onChange:e=>S(e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"State Code"}),(0,a.jsx)(r.I,{value:k,onChange:e=>A(e.target.value),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Select Country"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(r.I,{value:O,readOnly:!0,placeholder:"Select country",className:"cursor-pointer pr-10",onClick:()=>M(!0),required:!0}),(0,a.jsx)(c.Z,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 cursor-pointer",onClick:()=>M(!0)})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>{U(),j(!1)},children:"Cancel"}),(0,a.jsx)(i.z,{className:"bg-blue-600 text-white",type:"submit",children:"Save State"})]})]})]}),!v&&(t?(0,a.jsx)(f.Z,{rows:3}):(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border shadow-sm bg-white",children:(0,a.jsxs)("table",{className:"min-w-[800px] w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"State"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),(0,a.jsxs)("tbody",{children:[0===D.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"py-6 text-center text-gray-500 italic",colSpan:3,children:"No states found"})}),D.map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:e.name}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.isActive?(0,a.jsx)("span",{className:"px-3 py-1 text-xs rounded-full bg-green-100 text-green-700",children:"Active"}):(0,a.jsx)("span",{className:"px-3 py-1 text-xs rounded-full bg-red-100 text-red-700",children:"Inactive"})}),(0,a.jsxs)("td",{className:"px-4 py-3 text-right space-x-2",children:[(0,a.jsx)(i.z,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700",children:"Edit"}),(0,a.jsx)(i.z,{size:"sm",variant:e.isActive?"destructive":"default",className:e.isActive?"":"bg-green-600 hover:bg-green-700",children:e.isActive?"Deactivate":"Activate"})]})]},e.id))]})]})}))]}),!v&&(0,a.jsx)(x.Z,{page:y,totalPages:F,onPrev:()=>w(y-1),onNext:()=>w(y+1)})]}),(0,a.jsx)(p.Z,{open:T,onClose:()=>M(!1),title:"Select Country",fetchData:o.h.GetCountry,searchKey:"name",labelKey:"name",valueKey:"id",onSelect:e=>{E(e.id),L(e.id)}})]})}},9140:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});var a=s(7437),n=s(3448);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},7690:function(e,t,s){"use strict";s.d(t,{p:function(){return l}});var a=s(2093),n=s(12);function l(e,t){let s=a.P6.json_to_sheet(e),l=a.P6.book_new();a.P6.book_append_sheet(l,s,"Sheet1");let r=new Blob([a.cW(l,{bookType:"xlsx",type:"array"})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,n.saveAs)(r,"".concat(t,".xlsx"))}}},function(e){e.O(0,[425,203,112,971,117,744],function(){return e(e.s=2928)}),_N_E=e.O()}]);
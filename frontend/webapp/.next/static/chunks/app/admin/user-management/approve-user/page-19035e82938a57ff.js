(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{7028:function(e,s,a){Promise.resolve().then(a.bind(a,3417))},3417:function(e,s,a){"use strict";a.d(s,{default:function(){return R}});var t=a(7437),l=a(2265),n=a(9820),r=a(2381),i=a(3804),d=a(1837),o=a(7690),c=a(3340),m=a(6488),x=a(8390),p=a(9403),f=a(170),u=a(3448);let j=f.fC;f.xz;let h=f.h_,N=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(f.aV,{className:(0,u.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:s})});N.displayName=f.aV.displayName;let g=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(h,{children:[(0,t.jsx)(N,{}),(0,t.jsx)(f.VY,{ref:s,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});g.displayName=f.VY.displayName;let y=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,u.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};y.displayName="AlertDialogHeader";let b=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,u.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};b.displayName="AlertDialogFooter";let v=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(f.Dx,{ref:s,className:(0,u.cn)("text-lg font-semibold",a),...l})});v.displayName=f.Dx.displayName;let w=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(f.dk,{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",a),...l})});w.displayName=f.dk.displayName;let C=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(f.aU,{ref:s,className:(0,u.cn)((0,r.d)(),a),...l})});C.displayName=f.aU.displayName;let k=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(f.$j,{ref:s,className:(0,u.cn)((0,r.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...l})});function z(e){let{open:s,onClose:a,onConfirm:l,type:n,name:r}=e;return(0,t.jsx)(j,{open:s,children:(0,t.jsxs)(g,{children:[(0,t.jsxs)(y,{children:[(0,t.jsx)(v,{children:"approve"===n?"Approve User":"Reject User"}),(0,t.jsxs)(w,{children:["Are you sure you want to ",n," ",(0,t.jsx)("b",{children:r}),"?"]})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(k,{onClick:a,children:"Cancel"}),(0,t.jsx)(C,{onClick:l,className:"approve"===n?"bg-green-600":"bg-red-600",children:"approve"===n?"Approve":"Reject"})]})]})})}k.displayName=f.$j.displayName;var A=a(1649);function R(){let{users:e,loading:s,reload:a}=function(){let[e,s]=(0,l.useState)([]),[a,t]=(0,l.useState)(!0);async function n(){t(!0),s((await d.h.getPendingUsers()).data||[]),t(!1)}return(0,l.useEffect)(()=>{n()},[]),{users:e,loading:a,reload:n}}(),{toast:f}=(0,c.pm)(),[u,j]=(0,l.useState)(""),[h,N]=(0,l.useState)(1),g=(0,l.useMemo)(()=>e.filter(e=>e.fullName.toLowerCase().includes(u.toLowerCase())||e.email.toLowerCase().includes(u.toLowerCase())),[e,u]),y=g.slice((h-1)*5,5*h),b=Math.ceil(g.length/5),[v,w]=(0,l.useState)(null);async function C(e,s){w(null),f({title:"Approved",description:"".concat(s," approved successfully")}),a()}async function k(e,s){w(null),f({title:"Rejected",description:"".concat(s," rejected")}),a()}return(0,t.jsxs)("div",{children:[(0,t.jsxs)(n.Zb,{className:"w-full shadow-md border rounded-xl",children:[(0,t.jsx)(n.Ol,{className:"flex justify-between items-center",children:(0,t.jsx)(n.ll,{className:"text-2xl",children:"Approve Users"})}),(0,t.jsxs)(n.aY,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)(m.Z,{value:u,placeholder:"Search by name or email...",onChange:e=>{j(e),N(1)}}),(0,t.jsxs)(r.z,{onClick:function(){(0,o.p)(e,"PendingUsers"),f({title:"Exported",description:"Excel downloaded"})},className:"bg-black hover:bg-gray-800 flex items-center gap-2",children:[(0,t.jsx)(A.Z,{size:18}),"Export Excel"]})]}),s?(0,t.jsx)(p.Z,{rows:5,cols:4}):(0,t.jsx)("div",{className:"overflow-x-auto rounded-xl border shadow-sm bg-white",children:(0,t.jsxs)(i.iA,{className:"min-w-[900px]",children:[(0,t.jsx)(i.xD,{children:(0,t.jsxs)(i.SC,{className:"bg-gray-100",children:[(0,t.jsx)(i.ss,{className:"font-semibold text-gray-700",children:"Name"}),(0,t.jsx)(i.ss,{className:"font-semibold text-gray-700",children:"Email"}),(0,t.jsx)(i.ss,{className:"font-semibold text-gray-700",children:"Created"}),(0,t.jsx)(i.ss,{className:"text-right font-semibold text-gray-700",children:"Actions"})]})}),(0,t.jsxs)(i.RM,{children:[0===y.length&&(0,t.jsx)(i.SC,{children:(0,t.jsx)(i.pj,{colSpan:4,className:"py-6 text-center text-gray-500 italic",children:"No users found"})}),y.map(e=>(0,t.jsxs)(i.SC,{className:"hover:bg-gray-50 transition",children:[(0,t.jsx)(i.pj,{className:"font-medium",children:e.fullName}),(0,t.jsx)(i.pj,{children:e.email}),(0,t.jsx)(i.pj,{children:new Date(e.createdAt).toLocaleString()}),(0,t.jsx)(i.pj,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(r.z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>w({type:"approve",id:e.id,name:e.fullName}),children:"Approve"}),(0,t.jsx)(r.z,{size:"sm",variant:"destructive",onClick:()=>w({type:"reject",id:e.id,name:e.fullName}),children:"Reject"})]})})]},e.id))]})]})})]}),(0,t.jsx)(x.Z,{page:h,totalPages:b,onPrev:()=>N(h-1),onNext:()=>N(h+1)})]}),v&&(0,t.jsx)(z,{open:!0,name:v.name,type:v.type,onClose:()=>w(null),onConfirm:()=>"approve"===v.type?C(v.id,v.name):k(v.id,v.name)})]})}}},function(e){e.O(0,[425,590,404,394,579,754,971,117,744],function(){return e(e.s=7028)}),_N_E=e.O()}]);
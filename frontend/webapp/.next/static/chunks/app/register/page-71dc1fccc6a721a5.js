(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{1802:function(e,t,a){Promise.resolve().then(a.bind(a,2710))},7769:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2208:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6337:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3041:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9205).Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},7648:function(e,t,a){"use strict";a.d(t,{default:function(){return l.a}});var s=a(2972),l=a.n(s)},2710:function(e,t,a){"use strict";a.d(t,{default:function(){return g}});var s=a(7437),l=a(2265),r=a(7648),d=a(279),i=a(2381),n=a(9205);let c=(0,n.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var m=a(9345),o=a(3041);let h=(0,n.Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var u=a(6337),x=a(7769),p=a(2208),f=a(5246),N=a(1837),j=a(9376),y=a(2403),b=a(3300),v=a(3085);function g(){let e=(0,j.useRouter)(),{errorMsg:t,setErrorMsg:a,successMsg:n,setSuccessMsg:g}=(0,y.C)(),{registerUser:I,loading:w}=function(e,t){(0,j.useRouter)();let[a,s]=(0,l.useState)(!1);return{registerUser:async function(a){s(!0),e(""),t("");try{let e={email:a.email.trim(),mobile:a.mobile.trim(),gender:a.gender,dateOfBirth:a.dateOfBirth,firstName:a.firstName.trim(),middleName:a.middleName?a.middleName.trim():null,lastName:a.lastName.trim(),countryId:Number(a.countryId),stateId:Number(a.stateId),cityId:Number(a.cityId),address:a.address.trim(),pinCode:a.pinCode.trim(),password:a.password},s=await N.h.register(e);if(!0===s.success)return(null==s?void 0:s.message)&&t(s.message),!0}catch(t){return e((null==t?void 0:t.message)||"Something went wrong, Please Try again later."),!1}finally{s(!1)}},loading:a}}(a,g),[C,k]=(0,l.useState)(!1),[S,Z]=(0,l.useState)({}),[O,B]=(0,l.useState)({email:"",mobile:"",gender:"",dateOfBirth:"",firstName:"",middleName:"",lastName:"",countryId:"",stateId:"",cityId:"",address:"",pinCode:"",password:""}),[E,W]=(0,l.useState)([]),[M,D]=(0,l.useState)([]),[G,A]=(0,l.useState)([]),[P,_]=(0,l.useState)([]);function z(e,t){B(a=>({...a,[e]:t}))}async function F(t){t.preventDefault(),Z({}),a("");let s={};[{field:"email",label:"Email",pattern:v.W.email},{field:"mobile",label:"Phone",pattern:v.W.phone},{field:"gender",label:"Gender",pattern:v.W.id},{field:"dateOfBirth",label:"Date of Birth",pattern:v.W.dob},{field:"firstName",label:"First Name",pattern:v.W.name},{field:"lastName",label:"Last Name",pattern:v.W.name},{field:"countryId",label:"Country",pattern:v.W.id},{field:"stateId",label:"State",pattern:v.W.id},{field:"cityId",label:"City",pattern:v.W.id},{field:"pinCode",label:"Zip Code",pattern:v.W.pinCode},{field:"address",label:"Full Address",pattern:v.W.address},{field:"password",label:"Password",pattern:v.W.password}].forEach(e=>{let{field:t,label:a,pattern:l}=e,r=(0,b.O)(O[t],a,l);r&&(s[t]=r)});let l=Object.keys(s).length;if(l>0){Z(s),1===l&&a(String(Object.values(s)[0]));return}await I(O)&&e.push("/login")}return(0,l.useEffect)(()=>{N.h.GetGender().then(e=>{W(e.data)}).catch(e=>{console.error("Error fetching Genders:",e)})},[]),(0,l.useEffect)(()=>{N.h.GetCountry().then(e=>{D(e.data)}).catch(e=>{console.error("Error fetching countries:",e)})},[]),(0,l.useEffect)(()=>{if(!O.countryId){A([]),B(e=>({...e,stateId:""}));return}N.h.GetStateByContryID(O.countryId).then(e=>{A(e.data||[]),B(e=>({...e,stateId:""}))}).catch(e=>{console.error("Error fetching states:",e)})},[O.countryId]),(0,l.useEffect)(()=>{if(!O.stateId){_([]),B(e=>({...e,cityId:""}));return}N.h.GetCityByStateID(O.stateId).then(e=>{_(e.data||[]),B(e=>({...e,cityId:""}))}).catch(console.error)},[O.stateId]),(0,s.jsxs)("form",{className:"space-y-10 px-2",onSubmit:F,children:[t&&(0,s.jsx)(f.Z,{type:"error",message:t}),n&&(0,s.jsx)(f.Z,{type:"success",message:n}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Personal Details"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"First Name"}),(0,s.jsxs)("div",{className:"relative mt-1",children:[(0,s.jsx)(c,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,s.jsx)(d.I,{placeholder:"John",value:O.firstName,onChange:e=>z("firstName",e.target.value),className:"pl-10 ".concat(S.firstName?"border-red-500":"")})]}),S.firstName&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.firstName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Middle Name"}),(0,s.jsx)(d.I,{placeholder:"M.",value:O.middleName,onChange:e=>z("middleName",e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Last Name"}),(0,s.jsxs)("div",{className:"relative mt-1",children:[(0,s.jsx)(c,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,s.jsx)(d.I,{placeholder:"Doe",value:O.lastName,onChange:e=>z("lastName",e.target.value),className:"pl-10 ".concat(S.lastName?"border-red-500":"")})]}),S.lastName&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.lastName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Gender"}),(0,s.jsxs)("select",{className:"w-full py-2 pl-3 pr-3 border rounded-md bg-white ".concat(S.gender?"border-red-500":""),value:O.gender,onChange:e=>z("gender",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Gender"}),E.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),S.gender&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.gender})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Date of Birth"}),(0,s.jsx)(d.I,{type:"date",value:O.dateOfBirth,onChange:e=>z("dateOfBirth",e.target.value),className:"".concat(S.dateOfBirth?"border-red-500":"")}),S.dateOfBirth&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.dateOfBirth})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Contact Details"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Email"}),(0,s.jsx)(m.Z,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"}),(0,s.jsx)(d.I,{type:"email",value:O.email,onChange:e=>z("email",e.target.value),className:"pl-10 ".concat(S.email?"border-red-500":"")}),S.email&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.email})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Phone Number"}),(0,s.jsx)(o.Z,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"}),(0,s.jsx)(d.I,{type:"tel",value:O.mobile,onChange:e=>z("mobile",e.target.value),className:"pl-10 ".concat(S.mobile?"border-red-500":"")}),S.mobile&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.mobile})]})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Address Details"}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Full Address"}),(0,s.jsxs)("div",{className:"relative mt-1",children:[(0,s.jsx)(h,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),(0,s.jsx)(d.I,{placeholder:"Xyz near abc.",value:O.address,onChange:e=>z("address",e.target.value),className:"pl-10 ".concat(S.address?"border-red-500":"")})]}),S.address&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.address})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:[(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Country"}),(0,s.jsxs)("select",{className:"w-full py-2 pl-3 pr-3 border rounded-md bg-white ".concat(S.countryId?"border-red-500":""),value:O.countryId,onChange:e=>{let t=e.target.value;B(e=>({...e,countryId:t,stateId:"",cityId:""})),A([]),_([])},children:[(0,s.jsx)("option",{value:"",children:"Select Country"}),M.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),S.countryId&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.countryId})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"State"}),(0,s.jsxs)("select",{className:"w-full py-2 pl-3 pr-3 border rounded-md bg-white ".concat(S.stateId?"border-red-500":""),value:O.stateId,onChange:e=>{let t=e.target.value;B(e=>({...e,stateId:t,cityId:""})),_([])},disabled:!G.length,children:[(0,s.jsx)("option",{value:"",children:"Select State"}),G.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),S.stateId&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.stateId})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"City"}),(0,s.jsxs)("select",{className:"w-full py-2 pl-3 pr-3 border rounded-md bg-white ".concat(S.cityId?"border-red-500":""),value:O.cityId,onChange:e=>z("cityId",e.target.value),disabled:!P.length,children:[(0,s.jsx)("option",{value:"",children:"Select City"}),P.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]}),S.cityId&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.cityId})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Zip Code"}),(0,s.jsx)(d.I,{placeholder:"400001",value:O.pinCode,onChange:e=>z("pinCode",e.target.value),className:"w-full py-2 pl-3 pr-3 border rounded-md ".concat(S.pinCode?"border-red-500":"")}),S.pinCode&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.pinCode})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Security"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Password"}),(0,s.jsx)(u.Z,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"}),(0,s.jsx)(d.I,{type:C?"text":"password",value:O.password,onChange:e=>z("password",e.target.value),className:"pl-10 pr-12 ".concat(S.password?"border-red-500":""),placeholder:"••••••••"}),(0,s.jsx)("button",{type:"button",onClick:()=>k(!C),className:"absolute right-3 top-9 text-gray-500 hover:text-gray-700",children:C?(0,s.jsx)(x.Z,{className:"h-5 w-5"}):(0,s.jsx)(p.Z,{className:"h-5 w-5"})}),S.password&&(0,s.jsx)("p",{className:"text-xs text-red-600 mt-1",children:S.password})]})]}),(0,s.jsx)(i.z,{disabled:w,className:"w-full h-12 text-lg",children:w?"Creating...":"Create Account"}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Already have an account?"," ",(0,s.jsx)(r.default,{href:"/login",className:"text-blue-600 font-medium hover:underline",children:"Login"})]})]})}}},function(e){e.O(0,[203,972,319,971,117,744],function(){return e(e.s=1802)}),_N_E=e.O()}]);
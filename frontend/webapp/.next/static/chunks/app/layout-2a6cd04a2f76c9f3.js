(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4630:function(e,t,r){Promise.resolve().then(r.bind(r,54))},54:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var n=r(7437),s=r(2265),i=r(9376),o=r(7648),l=r(2381),a=r(91),d=r(8123),u=r(2489),c=r(8293);function f(e){let{sidebarOpen:t,setSidebarOpen:r}=e,s=(0,a.t)(e=>e.user),f=(0,a.t)(e=>e.logout),h=(0,i.useRouter)();return(0,n.jsxs)("nav",{className:"w-full py-5 px-6 md:px-20 flex justify-between items-center bg-white/80 backdrop-blur border-b",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"FinServe"}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[s&&(0,n.jsx)("button",{onClick:()=>r(!t),className:"md:hidden p-2 rounded border text-gray-700",children:t?(0,n.jsx)(u.Z,{size:20}):(0,n.jsx)(c.Z,{size:20})}),s?(0,n.jsx)(l.z,{variant:"outline",onClick:function(){(0,d.$9)(),f(),h.push("/login")},children:"Logout"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.default,{href:"/login",children:(0,n.jsx)(l.z,{variant:"outline",children:"Login"})}),(0,n.jsx)(o.default,{href:"/register",children:(0,n.jsx)(l.z,{children:"Register"})})]})]})]})}function h(){return(0,n.jsxs)("footer",{className:"py-8 text-center text-sm text-gray-500 border-t bg-gray-50 mt-auto",children:["\xa9 ",new Date().getFullYear()," FinServe. All rights reserved."]})}var m=r(1837);let g=(0,s.createContext)({user:null,isAuthenticated:!1,setUser:()=>{},logout:async()=>{}});function x(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(!1);async function a(){try{await m.h.logout()}catch(e){}(0,d.$9)(),i(null),l(!1),window.location.href="/login"}return(0,s.useEffect)(()=>{(async()=>{try{let e=await m.h.me();i(e.data)}catch(e){i(null)}})()},[]),(0,s.useEffect)(()=>{l(!!r)},[r]),(0,n.jsx)(g.Provider,{value:{user:r,isAuthenticated:o,setUser:i,logout:a},children:t})}var y=r(6246),v=r(5805),b=r(1884),p=r(340),j=r(6215),N=r(875),w=r(407),S=r(7692);let O={Users:v.Z,UserCog:b.Z,Truck:p.Z,BarChart3:j.Z};function T(){var e;let t=(0,a.t)(e=>e.user),r=(0,a.t)(e=>e.logout),d=(0,i.usePathname)(),u=(null==t?void 0:t.menus)||[],c=null==t?void 0:null===(e=t.fullName)||void 0===e?void 0:e.split(" ").map(e=>e[0]).join("").toUpperCase(),[f,h]=(0,s.useState)(null),m=e=>{h(f===e?null:e)};return(0,n.jsxs)("div",{className:"p-6 flex flex-col h-full justify-between border-r bg-white",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,n.jsx)(y.qE,{className:"h-14 w-14",children:(0,n.jsx)(y.Q5,{children:c})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold",children:null==t?void 0:t.fullName}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Administrator"})]})]}),(0,n.jsx)("div",{className:"space-y-6",children:u.map((e,t)=>{var r;let s=O[e.icon]||v.Z,i=f===e.name;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("button",{onClick:()=>m(e.name),className:"w-full flex justify-between items-center text-left py-2 text-gray-700 font-medium",children:[(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)(s,{size:16}),e.name]}),i?(0,n.jsx)(N.Z,{size:16}):(0,n.jsx)(w.Z,{size:16})]}),i&&(0,n.jsx)("div",{className:"ml-6 mt-2 space-y-1",children:null===(r=e.children)||void 0===r?void 0:r.map((e,t)=>{let r=e.route||"/admin/dashboard",s=d===r;return(0,n.jsx)(o.default,{href:r,children:(0,n.jsx)(l.z,{variant:"ghost",className:"w-full justify-start rounded-lg ".concat(s?"bg-blue-100 text-blue-600 font-medium":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"),children:e.name})},t)})})]},t)})})]}),(0,n.jsx)("div",{children:(0,n.jsxs)(l.z,{variant:"ghost",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:r,children:[(0,n.jsx)(S.Z,{size:16,className:"mr-2"}),"Logout"]})})]})}function A(e){let{children:t}=e,[r,o]=(0,s.useState)(!1),l=(0,a.t)(e=>e.user),d=(0,i.usePathname)();return(0,s.useEffect)(()=>{o(!1)},[d]),(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:"min-h-screen flex flex-col",children:(0,n.jsxs)(x,{children:[(0,n.jsx)(f,{sidebarOpen:r,setSidebarOpen:o}),l?(0,n.jsxs)("div",{className:"flex flex-col md:flex-row flex-1",children:[(0,n.jsx)("div",{className:"\n                  bg-white border-r shadow-lg transition-all duration-300\n                  md:w-1/4\n                  ".concat(r?"block":"hidden md:block","\n                "),children:(0,n.jsx)(T,{})}),(0,n.jsx)("main",{className:"flex-1 bg-gray-50 p-6",children:t})]}):(0,n.jsx)("main",{className:"flex-1",children:t}),(0,n.jsx)(h,{})]})})})}r(2778)},6246:function(e,t,r){"use strict";r.d(t,{F$:function(){return a},Q5:function(){return d},qE:function(){return l}});var n=r(7437),s=r(2265),i=r(3360),o=r(3448);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.fC,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});l.displayName=i.fC.displayName;let a=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.Ee,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",r),...s})});a.displayName=i.Ee.displayName;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(i.NY,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});d.displayName=i.NY.displayName},2381:function(e,t,r){"use strict";r.d(t,{d:function(){return a},z:function(){return d}});var n=r(7437),s=r(2265),i=r(7053),o=r(535),l=r(3448);let a=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:d=!1,...u}=e,c=d?i.g7:"button";return(0,n.jsx)(c,{className:(0,l.cn)(a({variant:s,size:o,className:r})),ref:t,...u})});d.displayName="Button"},1837:function(e,t,r){"use strict";r.d(t,{h:function(){return l}});var n=r(8123),s=r(3448);async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,n.hP)(),i={...(0,s.k)(t.headers||{})};return i["Content-Type"]="application/json",r&&(i.Authorization="Bearer ".concat(r)),await fetch("".concat("https://tzrhqvey9d.execute-api.us-east-1.amazonaws.com/prod/api").concat(e),{...t,headers:i,credentials:"include"})}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await i(e,t),n=await r.json();if(200!==n.statusCode&&201!==n.statusCode){var s;if("/Auth/login"===e&&403===n.statusCode&&(n.data.emailVerified||n.data.mobileVerified))return n;throw Error(null!==(s=n.message)&&void 0!==s?s:"Something went wrong.")}return n}let l={login:e=>o("/Auth/login",{method:"POST",body:JSON.stringify(e)}),me:()=>o("/User/profile",{method:"GET"}),logout:()=>o("/Auth/logout",{method:"POST"}),refresh:()=>o("/Auth/refresh",{method:"POST"}),forgotPassword:e=>o("/Auth/forgot-password",{method:"POST"}),register:e=>o("/Auth/register",{method:"POST",body:JSON.stringify(e)}),emailVerification:e=>o("/Auth/register",{method:"POST",body:JSON.stringify(e)}),mobileVerification:e=>o("/Auth/register",{method:"POST",body:JSON.stringify(e)}),getRoles:()=>o("/Roles",{method:"GET"}),getModules:()=>o("/User/modules",{method:"GET"}),getMenu:()=>o("/User/Getmenu",{method:"GET"}),getLastModuleOrder:()=>o("/Admin/GetModulorder",{method:"GET"}),addModule:e=>o("/Admin/Addmodules",{method:"POST",body:JSON.stringify(e)}),getLastActivityOrder:()=>o("/Admin/GetActivityOrder",{method:"GET"}),addActivity:e=>o("/Admin/AddActivities",{method:"POST",body:JSON.stringify(e)}),getPendingUsers:()=>o("/admin/pending-users",{method:"GET"}),getAllUsers:()=>o("/Admin/users",{method:"GET"}),GetCountry:()=>o("/Countries",{method:"GET"}),GetState:e=>o("/States/".concat(e),{method:"GET"}),GetAllState:()=>o("/States",{method:"GET"}),GetCity:e=>o("/Cities/".concat(e),{method:"GET"}),GetAllCity:()=>o("/Cities",{method:"GET"}),GetGender:()=>o("/Master/genders",{method:"GET"}),addCountrys:e=>o("/Countries",{method:"POST",body:JSON.stringify(e)}),addStates:e=>o("/States",{method:"POST",body:JSON.stringify(e)}),addCity:e=>o("/Cities",{method:"POST",body:JSON.stringify(e)}),addRoles:e=>o("/Roles",{method:"POST",body:JSON.stringify(e)}),getMenus:()=>o("/Menus",{method:"GET"}),getProfile:()=>o("/User/profile",{method:"GET"})}},8123:function(e,t,r){"use strict";r.d(t,{$9:function(){return o},M8:function(){return s},hP:function(){return i}});let n=null;function s(e){n=e}function i(){return n}function o(){n=null}},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return i},k:function(){return o}});var n=r(1994),s=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return e instanceof Headers?e.forEach((e,r)=>t[r]=e):Array.isArray(e)?e.forEach(e=>{let[r,n]=e;return t[r]=n}):"object"==typeof e&&null!==e&&Object.assign(t,e),t}},91:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});let n=(0,r(3011).U)(e=>({user:null,setUser:t=>e({user:t}),logout:()=>e({user:null})}))},2778:function(){}},function(e){e.O(0,[461,590,225,464,971,117,744],function(){return e(e.s=4630)}),_N_E=e.O()}]);